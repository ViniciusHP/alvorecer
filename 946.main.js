(self.webpackChunkalvorecer=self.webpackChunkalvorecer||[]).push([[946],{946:(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>a});class a{constructor(e,o,s,a,i,t){this.classeContainerNeve=e,this.classeFlocoDeNeve=o,this.classeFlocoDeNeveNaEspera=s,this.arrayUrlsTiposDeFlocosDeNeve=t,this.numeroDeFlocosDeNeve=void 0===a||a<=0?30:a,this.tempoEntreFlocos=void 0===i||i<0?300:i,this.infoFlocos=[],this.blobFlocosDeNeve=[]}init(){return this.classeContainerNeve&&this.classeFlocoDeNeve&&(this.selecionarContainerNeve(),this.criarTodosFlocosDeNeve()),this}selecionarContainerNeve(){this.containerNeve=document.querySelector(this.classeContainerNeve),this.containerNeve||(this.containerNeve=document.createElement("div"),this.containerNeve.classList.add(this.classeContainerNeve),document.body.appendChild(this.containerNeve))}criarTodosFlocosDeNeve(){const e=[];for(let o=0;o<this.numeroDeFlocosDeNeve;o+=1)e.push(this.criaFlocoDeNeve());e.forEach((e=>{this.infoFlocos.push({flocoDeNeve:e,isNaTela:!1,isAnimacaoFinalizada:!0,isPresenteNoDOM:!1})}))}criaFlocoDeNeve(){const e=document.createElement("i");return this.adicionarClasseDeEsperaAoFlocoDeNeve(e),e}alterarParametrosFlocoDeNeve(e){const o=Math.floor(3*Math.random())+5,s=5*Math.random()+5;e.style.animationDuration=`${o}s, ${s}s`,e.style.opacity=Math.random(),e.style.left=Math.random()*(window.innerWidth-20)+"px",e.style.content=`url(${this.blobFlocosDeNeve[Math.floor(Math.random()*this.blobFlocosDeNeve.length)]})`;const a=10*Math.random()+10+"px";return e.style.width=a,e.style.height=a,e}fazerFetchParaObterImagensDosFlocos(){this.arrayPromisesObtencaoDasImagensDosFlocos=[];for(const e of this.arrayUrlsTiposDeFlocosDeNeve){const o=fetch(e).then((e=>e.blob())).then((e=>URL.createObjectURL(e))).then((e=>this.blobFlocosDeNeve.push(e)));this.arrayPromisesObtencaoDasImagensDosFlocos.push(o)}}iniciarNevasca(){this.blobFlocosDeNeve.length!==this.arrayUrlsTiposDeFlocosDeNeve.length?(this.fazerFetchParaObterImagensDosFlocos(),Promise.all(this.arrayPromisesObtencaoDasImagensDosFlocos).then((()=>this.iniciarTodosParametrosDeTodosFlocos())).then((()=>this.iniciarIntervalo()))):this.iniciarIntervalo()}iniciarTodosParametrosDeTodosFlocos(){this.infoFlocos.forEach((e=>{e.flocoDeNeve=this.alterarParametrosFlocoDeNeve(e.flocoDeNeve)}))}iniciarIntervalo(){this.posicaoDoCursorNoArray=0,this.intervaloNevasca=setInterval((()=>{const e=this.infoFlocos[this.posicaoDoCursorNoArray];e.isAnimacaoFinalizada&&!e.isNaTela&&this.animarFlocoAtual(e)}),this.tempoEntreFlocos)}pararNevasca(){this.intervaloNevasca&&(clearInterval(this.intervaloNevasca),this.intervaloNevasca=null)}animarFlocoAtual(e){const o=e.flocoDeNeve;this.adicionarClasseDeFlocoDeNeve(o),this.removerClasseDeEsperaDoFlocoDeNeve(o),e.isPresenteNoDOM||(this.containerNeve.appendChild(o),e.isPresenteNoDOM=!0),e.isNaTela=!0,e.isAnimacaoFinalizada=!1,setTimeout((()=>{this.removerClasseDeFlocoDeNeve(o),this.adicionarClasseDeEsperaAoFlocoDeNeve(o),e.flocoDeNeve=this.alterarParametrosFlocoDeNeve(e.flocoDeNeve),e.isNaTela=!1,e.isAnimacaoFinalizada=!0}),8e3),this.posicaoDoCursorNoArray+=1,this.posicaoDoCursorNoArray>=this.infoFlocos.length&&(this.posicaoDoCursorNoArray=0)}adicionarClasseDeFlocoDeNeve(e){e.classList.add(this.classeFlocoDeNeve)}removerClasseDeFlocoDeNeve(e){e.classList.remove(this.classeFlocoDeNeve)}adicionarClasseDeEsperaAoFlocoDeNeve(e){e.classList.add(this.classeFlocoDeNeveNaEspera)}removerClasseDeEsperaDoFlocoDeNeve(e){e.classList.remove(this.classeFlocoDeNeveNaEspera)}}}}]);